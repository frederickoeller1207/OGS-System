<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Credits- & Ausleihsystem</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; background-color: green; color: white; display: flex; }
        .container { display: flex; width: 100%; height: 100vh; }
        .left, .right { flex: 1; padding: 10px; border: 2px solid white; }
        .right { display: flex; flex-direction: column; }
        .top, .bottom { flex: 1; padding: 10px; border-top: 2px solid white; overflow: auto; }
        .credits-list { font-size: 25px; font-weight: bold; display: flex; flex-wrap: wrap; justify-content: center; }
        .credits-item { margin: 5px; padding: 10px; border: 1px solid white; cursor: pointer; }
        .popup { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; color: black; padding: 20px; display: none; font-size: 24px; }
        .digital-clock { font-size: 40px; font-weight: bold; }
        .toy-borrowed { color: red; font-size: 30px; font-weight: bold; }
        .toy-list { display: flex; flex-wrap: wrap; justify-content: center; }
        .toy-list div { padding: 5px; border: 1px solid white; margin: 3px; cursor: pointer; }
    </style>
</head>
<body>

<div class="container">
    <!-- Programm 1: Credit-System -->
    <div class="left">
        <h1>Credit-System</h1>
        <div id="creditsList" class="credits-list"></div>
        <button onclick="giveAllCredits()">Allen +1</button>
        <button onclick="removeAllCredits()">Allen -1</button>
        <button onclick="resetAllCredits()">Alle zurücksetzen</button>
    </div>

    <div class="right">
        <!-- Programm 2: Tagesablauf -->
        <div class="top">
            <h1>Tagesablauf</h1>
            <select id="daySelect" onchange="updateSchedule()">
                <option value="Montag">Montag</option>
                <option value="Dienstag">Dienstag</option>
                <option value="Mittwoch">Mittwoch</option>
                <option value="Donnerstag">Donnerstag</option>
                <option value="Freitag">Freitag</option>
            </select>
            <div class="digital-clock" id="clock"></div>
            <div id="scheduleDisplay"></div>
        </div>

        <!-- Programm 3: Spielzeug-Ausleihe -->
        <div class="bottom">
            <h1>Spielzeug-Ausleihe</h1>
            <div id="toyList" class="toy-list"></div>
            <button onclick="resetAllToys()">Alle zurücksetzen</button>
        </div>
    </div>
</div>

<!-- Pop-up -->
<div id="popup" class="popup"></div>

<script>
    let kids = [
        "Liam", "Irem", "Malin", "Leni", "Frida G.", "Lukas", "Niklas", "Frida R.", "Matthias", "Greta",
        "Emilia", "Oskar", "Lotte", "David", "Max", "Ronja", "Romy", "Sophie", "Artur", "Zehra",
        "Ismail", "Malick", "Nela", "Mia", "Jayden"
    ].map(name => ({ name, credits: 0, toy: "" }));

    function updateCreditsDisplay() {
        let list = document.getElementById("creditsList");
        list.innerHTML = "";
        kids.forEach((kid, index) => {
            list.innerHTML += `<div class="credits-item" onclick="showCreditOptions(${index})">${kid.name}: ${kid.credits} Credits</div>`;
        });
    }

    function showCreditOptions(index) {
        let popup = document.getElementById("popup");
        popup.innerHTML = `<p>${kids[index].name} Credits ändern:</p>
                           <button onclick="changeCredits(${index}, 1)">+1</button>
                           <button onclick="changeCredits(${index}, -1)">-1</button>`;
        popup.style.display = "block";
        setTimeout(() => popup.style.display = "none", 3000);
    }

    function changeCredits(index, amount) {
        kids[index].credits += amount;
        updateCreditsDisplay();
    }

    function giveAllCredits() {
        kids.forEach(kid => kid.credits++);
        updateCreditsDisplay();
    }

    function removeAllCredits() {
        kids.forEach(kid => kid.credits--);
        updateCreditsDisplay();
    }

    function resetAllCredits() {
        kids.forEach(kid => kid.credits = 0);
        updateCreditsDisplay();
    }

    function updateSchedule() {
        let day = document.getElementById("daySelect").value;
        let schedule = {
            Montag: "Spielzeit → Mittagessen → AG Angebote → Abholung",
            Dienstag: "Sport → Mittagessen → Hausaufgaben → Abholung",
            Mittwoch: "Musik → Mittagessen → Basteln → Abholung",
            Donnerstag: "Freispiel → Mittagessen → Lesezeit → Abholung",
            Freitag: "Kreativzeit → Mittagessen → Film → Abholung"
        };
        document.getElementById("scheduleDisplay").innerText = schedule[day];
    }

    function updateClock() {
        let now = new Date();
        let timeString = now.toLocaleTimeString("de-DE", { hour: '2-digit', minute: '2-digit' });
        document.getElementById("clock").innerText = timeString;
    }

    setInterval(updateClock, 1000);

    let toyList = document.getElementById("toyList");
    function updateToyList() {
        toyList.innerHTML = "";
        kids.forEach((kid, index) => {
            let displayName = kid.toy ? `<div class="toy-borrowed">${kid.name} → ${kid.toy}</div>` : `<div>${kid.name}</div>`;
            toyList.innerHTML += `<div onclick="borrowToy(${index})">${displayName}</div>`;
        });
    }

    function borrowToy(index) {
        let toy = prompt("Welches Spielzeug wird ausgeliehen?");
        if (toy) {
            kids[index].toy = toy;
            updateToyList();
        }
    }

    function resetAllToys() {
        kids.forEach(kid => kid.toy = "");
        updateToyList();
    }

    updateCreditsDisplay();
    updateSchedule();
    updateToyList();
</script>

</body>
</html>