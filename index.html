<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Programmsystem</title>
    <style>
        /* Grundlegende CSS-Styles */
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: space-between;
            height: 100vh;
            margin: 0;
            background-color: #d3f9d8; /* Grün */
        }
        .left, .right {
            width: 48%;
            padding: 10px;
            box-sizing: border-box;
            overflow-y: auto;
        }
        .left {
            background-color: #e0f7e6;
        }
        .right {
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            background-color: #e0f7e6;
        }
        .top, .bottom {
            flex: 1;
        }
        #tagesablauf {
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #digitalClock {
            font-size: 20px;
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            color: black;
        }
        .button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px;
            cursor: pointer;
            font-size: 14px;
            margin-top: 10px;
        }
    </style>
</head>
<body>

    <div class="left">
        <!-- Hier kommt das Punktesystem (Programm 1) -->
        <h2>Credit System</h2>
        <div id="punkteListe">
            <!-- Dynamisch generierte Namen und Punkte -->
        </div>
        <button class="button" onclick="resetAll()">Alle auf 0 setzen</button>
    </div>

    <div class="right">
        <div class="top">
            <!-- Hier kommt das Tagesablaufprogramm (Programm 2 mit Bildern) -->
            <div id="tagesablauf">
                <img id="tagesbild" src="freizeit.png" alt="Tagesbild" width="100%" height="100%">
            </div>
        </div>

        <div class="bottom">
            <!-- Hier kommt die Spielzeug Ausleihe (Programm 3) -->
            <h2>Spielzeug Ausleihe</h2>
            <div id="ausleiheListe">
                <!-- Dynamisch generierte Ausleihe -->
            </div>
        </div>
    </div>

    <div id="digitalClock"></div>

    <script>
        // Tagesablauf-Bilder für verschiedene Wochentage und Uhrzeiten
        const tagesBilder = {
            "Montag": {
                "08:00-13:15": "freizeit.png",
                "13:16-13:20": "vorbereitenessen.png",
                "13:21-13:55": "essen.png",
                "13:56-14:15": "agmo1.png",
                "14:16-14:45": "freizeit.png",
                "14:46-15:03": "abmo1.png",
                "15:04-15:45": "agmo2.png",
                "15:46-16:02": "abmo2.png",
                "16:03-16:20": "freizeit.png",
                "16:21-16:40": "abmo3.png"
            },
            "Dienstag": {
                "08:00-13:15": "freizeit.png",
                "13:16-13:20": "vorbereitenessen.png",
                "13:21-13:55": "essen.png",
                "13:56-14:15": "agdi1.png",
                "14:16-14:45": "freizeit.png",
                "14:46-15:03": "abdi1.png",
                "15:04-15:45": "agdi2.png",
                "15:46-16:02": "abdi2.png",
                "16:03-16:20": "freizeit.png",
                "16:21-16:40": "abdi3.png"
            },
            // Füge die anderen Wochentage ähnlich hinzu
        };

        const defaultImage = "freizeit.png";  // Standardbild für alle nicht definierten Zeiten
        let currentDay = new Date().toLocaleString("de-DE", { weekday: "long" });
        let currentTime = new Date().toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });

        // Funktion zum Wechseln des Bildes basierend auf dem Tag und der Zeit
        function updateTagesbild() {
            let imageToShow = defaultImage;
            if (tagesBilder[currentDay]) {
                for (let timeRange in tagesBilder[currentDay]) {
                    let [startTime, endTime] = timeRange.split("-");
                    if (isInTimeRange(currentTime, startTime, endTime)) {
                        imageToShow = tagesBilder[currentDay][timeRange];
                        break;
                    }
                }
            }
            document.getElementById("tagesbild").src = imageToShow;
        }

        // Überprüft, ob die aktuelle Zeit in dem gegebenen Zeitraum liegt
        function isInTimeRange(currentTime, startTime, endTime) {
            let currentTimeInMinutes = convertToMinutes(currentTime);
            return currentTimeInMinutes >= convertToMinutes(startTime) && currentTimeInMinutes <= convertToMinutes(endTime);
        }

        // Funktion zur Umwandlung der Uhrzeit in Minuten
        function convertToMinutes(timeStr) {
            let [hour, minute] = timeStr.split(":").map(Number);
            return hour * 60 + minute;
        }

        // Update der Digitaluhr
        function updateDigitalClock() {
            let now = new Date();
            let hours = now.getHours().toString().padStart(2, "0");
            let minutes = now.getMinutes().toString().padStart(2, "0");
            document.getElementById("digitalClock").textContent = `${hours}:${minutes}`;
        }

        // Aktualisiert das Tagesbild und die Uhrzeit jede Minute
        setInterval(() => {
            updateTagesbild();
            updateDigitalClock();
        }, 60000); // alle 60 Sekunden

        // Setzt das Tagesbild beim Laden der Seite
        updateTagesbild();
        updateDigitalClock();
    </script>

</body>
</html>