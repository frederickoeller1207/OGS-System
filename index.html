<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Programm</title>
    <style>
        body { display: flex; flex-direction: column; align-items: center; background-color: green; }
        .container { display: flex; width: 100%; height: 90vh; }
        .left, .right { flex: 1; padding: 10px; }
        .right { display: flex; flex-direction: column; }
        .top, .bottom { flex: 1; padding: 10px; }
        .image-container { width: 100%; height: 100%; display: flex; justify-content: center; align-items: center; }
        .image-container img { max-width: 100%; max-height: 100%; }
        .clock { text-align: center; font-size: 20px; font-weight: bold; background: white; padding: 5px; margin-top: 5px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="left">
            <h2>Creditsystem</h2>
            <ul id="credit-list"></ul>
            <button onclick="resetAll()">Alle zurücksetzen</button>
        </div>
        <div class="right">
            <div class="top">
                <h2>Tagesbild</h2>
                <div class="image-container">
                    <img id="day-image" src="images/freizeit.png" alt="Tagesbild">
                </div>
            </div>
            <div class="bottom">
                <h2>Spielzeugausleihe</h2>
                <ul id="toy-list"></ul>
            </div>
        </div>
    </div>
    <div class="clock" id="clock"></div>

    <script>
        const imageSchedule = {
            Montag: {
                "08:00": "freizeit.png", "13:16": "vorbereitenessen.png", "13:21": "essen.png",
                "13:56": "agmo1.png", "14:16": "freizeit.png", "14:46": "abmo1.png",
                "15:04": "agmo2.png", "15:46": "abmo2.png", "16:03": "freizeit.png", "16:21": "abmo3.png"
            },
            Dienstag: {
                "08:00": "freizeit.png", "13:16": "vorbereitenessen.png", "13:21": "essen.png",
                "13:56": "agdi1.png", "14:16": "freizeit.png", "14:46": "abdi1.png",
                "15:04": "agdi2.png", "15:46": "abdi2.png", "16:03": "freizeit.png", "16:21": "abdi3.png"
            },
            Mittwoch: {
                "08:00": "freizeit.png", "13:16": "vorbereitenessen.png", "13:21": "essen.png",
                "13:56": "agmi1.png", "14:16": "freizeit.png", "14:46": "abmi1.png",
                "15:04": "agmi2.png", "15:46": "abmi2.png", "16:03": "freizeit.png", "16:21": "abmi3.png"
            },
            Donnerstag: {
                "08:00": "freizeit.png", "13:16": "vorbereitenessen.png", "13:21": "essen.png",
                "13:56": "agdo1.png", "14:16": "freizeit.png", "14:46": "abdo1.png",
                "15:04": "agdo2.png", "15:46": "abdo2.png", "16:03": "freizeit.png", "16:21": "abdo3.png"
            },
            Freitag: {
                "08:00": "freizeit.png", "12:16": "vorbereitenessen.png", "12:26": "essen.png",
                "12:46": "freizeit.png", "13:46": "agfr1.png", "14:16": "freizeit.png",
                "14:46": "abfr1.png", "15:07": "abfr2.png"
            }
        };

        function updateClock() {
            const now = new Date();
            const hours = String(now.getHours()).padStart(2, '0');
            const minutes = String(now.getMinutes()).padStart(2, '0');
            document.getElementById("clock").textContent = `${hours}:${minutes}`;
            updateImage(hours, minutes);
        }

        function updateImage(hours, minutes) {
            const weekdays = ["Sonntag", "Montag", "Dienstag", "Mittwoch", "Donnerstag", "Freitag", "Samstag"];
            const today = weekdays[new Date().getDay()];
            const schedule = imageSchedule[today] || {};
            const currentTime = `${hours}:${minutes}`;

            let selectedImage = "freizeit.png";
            for (let time in schedule) {
                if (currentTime >= time) {
                    selectedImage = schedule[time];
                }
            }
            document.getElementById("day-image").src = `images/${selectedImage}`;
        }

        setInterval(updateClock, 60000);
        updateClock();

        function resetAll() {
            if (confirm("Bist du sicher, dass du alle Credits zurücksetzen möchtest?") &&
                confirm("Wirklich sicher? Das kann nicht rückgängig gemacht werden!")) {
                localStorage.removeItem("credits");
                loadCredits();
            }
        }

        function loadCredits() {
            const creditList = document.getElementById("credit-list");
            creditList.innerHTML = "";
            let credits = JSON.parse(localStorage.getItem("credits")) || {};

            ["Liam", "Irem", "Malin", "Leni", "Frida G.", "Lukas", "Niklas", "Frida R.", "Matthias", "Greta",
             "Emilia", "Oskar", "Lotte", "David", "Max", "Ronja", "Romy", "Sophie", "Artur", "Zehra",
             "Ismail", "Malick", "Nela", "Mia", "Jayden"].forEach(name => {
                if (!credits[name]) credits[name] = 0;
                let li = document.createElement("li");
                li.innerHTML = `${name}: <span id="credit-${name}">${credits[name]}</span>
                    <button onclick="changeCredit('${name}', 1)">+1</button>
                    <button onclick="changeCredit('${name}', -1)">-1</button>`;
                creditList.appendChild(li);
            });

            localStorage.setItem("credits", JSON.stringify(credits));
        }

        function changeCredit(name, amount) {
            let credits = JSON.parse(localStorage.getItem("credits")) || {};
            credits[name] = (credits[name] || 0) + amount;
            document.getElementById(`credit-${name}`).textContent = credits[name];
            localStorage.setItem("credits", JSON.stringify(credits));
        }

        loadCredits();
    </script>
</body>
</html>