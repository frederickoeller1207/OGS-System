<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Punkte- & Ausleihsystem</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; background-color: green; color: white; display: flex; }
        .container { display: flex; width: 100%; height: 100vh; }
        .left, .right { flex: 1; padding: 10px; border: 2px solid white; }
        .right { display: flex; flex-direction: column; }
        .top, .bottom { flex: 1; padding: 10px; border-top: 2px solid white; }
        .points-list { font-size: 30px; font-weight: bold; }
        .small-list { font-size: 20px; }
        .popup { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; color: black; padding: 20px; display: none; font-size: 24px; }
        .highlight { font-size: 50px; font-weight: bold; }
        .digital-clock { font-size: 40px; font-weight: bold; }
        .toy-borrowed { color: red; font-size: 30px; font-weight: bold; }
    </style>
</head>
<body>

<div class="container">
    <!-- Programm 1: Punktesystem -->
    <div class="left">
        <h1>Punkte-System</h1>
        <div id="pointsDisplay" class="points-list"></div>
        <div id="smallList" class="small-list"></div>
        <button onclick="giveAllPoints()">Allen +1</button>
    </div>

    <div class="right">
        <!-- Programm 2: Tagesablauf -->
        <div class="top">
            <h1>Tagesablauf</h1>
            <select id="daySelect" onchange="updateSchedule()">
                <option value="Montag">Montag</option>
                <option value="Dienstag">Dienstag</option>
                <option value="Mittwoch">Mittwoch</option>
                <option value="Donnerstag">Donnerstag</option>
                <option value="Freitag">Freitag</option>
            </select>
            <div class="digital-clock" id="clock"></div>
            <div id="scheduleDisplay"></div>
        </div>

        <!-- Programm 3: Spielzeug-Ausleihe -->
        <div class="bottom">
            <h1>Spielzeug-Ausleihe</h1>
            <div id="toyList"></div>
        </div>
    </div>
</div>

<!-- Pop-up -->
<div id="popup" class="popup"></div>

<script>
    let kids = [
        "Liam", "Irem", "Malin", "Leni", "Frida G.", "Lukas", "Niklas", "Frida R.", "Matthias", "Greta",
        "Emilia", "Oskar", "Lotte", "David", "Max", "Ronja", "Romy", "Sophie", "Artur", "Zehra",
        "Ismail", "Malick", "Nela", "Mia", "Jayden"
    ].map(name => ({ name, points: 0 }));

    function updatePointsDisplay() {
        let display = document.getElementById("pointsDisplay");
        display.innerHTML = "";
        let sortedKids = [...kids].sort((a, b) => b.points - a.points);
        let top5 = sortedKids.slice(0, 5);

        top5.forEach((kid, index) => {
            let colors = ["red", "blue", "yellow", "purple", "orange"];
            display.innerHTML += `<div class="highlight" style="color:${colors[index % colors.length]}">${kid.name}: ${kid.points} Punkte</div>`;
        });

        let smallList = document.getElementById("smallList");
        smallList.innerHTML = "";
        kids.forEach((kid, index) => {
            smallList.innerHTML += `<div onclick="showPointOptions(${index})">${kid.name}: ${kid.points} Punkte</div>`;
        });
    }

    function showPointOptions(index) {
        let popup = document.getElementById("popup");
        popup.innerHTML = `<p>${kids[index].name} Punkt ändern:</p>
                           <button onclick="changePoints(${index}, 1)">+1</button>
                           <button onclick="changePoints(${index}, -1)">-1</button>`;
        popup.style.display = "block";
        setTimeout(() => popup.style.display = "none", 3000);
    }

    function changePoints(index, amount) {
        kids[index].points += amount;
        updatePointsDisplay();
    }

    function giveAllPoints() {
        kids.forEach(kid => kid.points++);
        updatePointsDisplay();
    }

    function updateSchedule() {
        let day = document.getElementById("daySelect").value;
        let schedule = {
            Montag: "Spielzeit → Mittagessen → AG Angebote → Abholung",
            Dienstag: "Sport → Mittagessen → Hausaufgaben → Abholung",
            Mittwoch: "Musik → Mittagessen → Basteln → Abholung",
            Donnerstag: "Freispiel → Mittagessen → Lesezeit → Abholung",
            Freitag: "Kreativzeit → Mittagessen → Film → Abholung"
        };
        document.getElementById("scheduleDisplay").innerText = schedule[day];
    }

    function updateClock() {
        let now = new Date();
        let timeString = now.toLocaleTimeString("de-DE", { hour: '2-digit', minute: '2-digit' });
        document.getElementById("clock").innerText = timeString;
    }

    setInterval(updateClock, 1000);

    let toyList = document.getElementById("toyList");
    kids.forEach((kid, index) => {
        toyList.innerHTML += `<div onclick="borrowToy(${index})">${kid.name}</div>`;
    });

    function borrowToy(index) {
        let toy = prompt("Welches Spielzeug wird ausgeliehen?");
        if (toy) {
            kids[index].toy = toy;
            updateToyList();
        }
    }

    function updateToyList() {
        toyList.innerHTML = "";
        kids.forEach(kid => {
            toyList.innerHTML += `<div class="${kid.toy ? 'toy-borrowed' : ''}" onclick="borrowToy(${kids.indexOf(kid)})">${kid.name} ${kid.toy ? `→ ${kid.toy}` : ""}</div>`;
        });
    }

    setInterval(updatePointsDisplay, 10000);
    updatePointsDisplay();
    updateSchedule();
</script>

</body>
</html>